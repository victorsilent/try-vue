webpackJsonp([1],{"3e9+":function(e,t){},GK12:function(e,t){},HkGS:function(e,t){},NHnr:function(e,t,s){"use strict";function a(e){s("yQf8")}function n(e){return L.post("contacts",e).then(function(e){return A.a.resolve(e.data)}).catch(function(e){return A.a.reject(e)})}function r(e){return L.get("contacts/"+e).then(function(e){return A.a.resolve(e.data)}).catch(function(e){return A.a.reject(e)})}function i(){return L.get("contacts").then(function(e){return A.a.resolve(e.data)}).catch(function(e){return A.a.reject(e)})}function o(e){s("zKUX")}function c(e){s("RzI8")}function u(e){s("TXU2")}function l(e){s("3e9+")}function d(e){s("dn1N")}function v(e){s("HkGS")}Object.defineProperty(t,"__esModule",{value:!0});var m=s("7+uW"),p=s("sUu7"),h=s("Gu7T"),f=s.n(h),_={props:["title"],name:"Card",data:function(){return{}}},C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[e.title?s("div",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[e._v("\n      "+e._s(e.title)+"\n    ")])]):e._e(),e._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[e._t("default",[e._v("\n        Card Content\n      ")])],2)])])},g=[],b={render:C,staticRenderFns:g},U=b,w=s("VU/8"),x=a,N=w(_,U,!1,x,"data-v-c88f77aa",null),k=N.exports,E=s("//Fk"),A=s.n(E),I=s("mtWM"),S=s.n(I),T={uid:"joaovpbarbosa@gmail.com","access-token":"Jbx5pQf7pxUQWYXvFrzsocsg"},R=T,L=S.a.create({baseURL:"https://staging.api.meuprospere.com.br/v1",headers:R}),q={name:"AddUser",components:{Card:k},data:function(){return{formErrors:"",code:"",newUser:{contact_source_id:"1",name:"",background:"",phones:[{code:"",number:""}],emails:[{address:""}]}}},methods:{createUser:function(){var e=this,t=this;n(this.newUser).then(function(){return t.$router.push("/")}).catch(function(t){e.formErrors=t.message})},addEmail:function(){var e=[].concat(f()(this.newUser.emails),[{address:""}]);this.newUser.emails=e},addPhone:function(){var e=[].concat(f()(this.newUser.phones),[{code:"",number:""}]);this.newUser.phones=e}}},$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Card",{attrs:{title:"Adicionar Usuário"}},[e.formErrors?s("article",{staticClass:"message is-danger"},[s("div",{staticClass:"message-body"},[e._v("\n      "+e._s(e.formErrors)+"\n    ")])]):e._e(),e._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Nome")]),e._v(" "),s("div",{staticClass:"control"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3",expression:"'required|min:3'"},{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],staticClass:"input",attrs:{name:"contactName",type:"text",placeholder:"Text input"},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("contactName"),expression:"errors.has('contactName')"}]},[e._v("\n          "+e._s(e.errors.first("contactName"))+"\n        ")])])]),e._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Background")]),e._v(" "),s("div",{staticClass:"control"},[s("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:5",expression:"'required|min:5'"},{name:"model",rawName:"v-model",value:e.newUser.background,expression:"newUser.background"}],staticClass:"textarea",attrs:{name:"background"},domProps:{value:e.newUser.background},on:{input:function(t){t.target.composing||e.$set(e.newUser,"background",t.target.value)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("background"),expression:"errors.has('background')"}]},[e._v("\n        "+e._s(e.errors.first("background"))+"\n      ")])])]),e._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Emails")]),e._v(" "),e._l(e.newUser.emails,function(t,a){return s("div",{staticClass:"control input-list"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.address,expression:"email.address"}],staticClass:"input",attrs:{name:"email["+a+"]",type:"text",placeholder:"Email"},domProps:{value:t.address},on:{input:function(s){s.target.composing||e.$set(t,"address",s.target.value)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email["+a+"]"),expression:"errors.has(`email[${index}]`)"}]},[e._v("\n          "+e._s(e.errors.first("email["+a+"]"))+"\n        ")])])}),e._v(" "),s("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.addEmail(t)}}},[e._v("Adicionar outro email")])],2),e._v(" "),s("div",{staticClass:"field"},[s("div",{staticClass:"field-label has-text-left"},[s("label",{staticClass:"label"},[e._v("Telefones")])]),e._v(" "),e._l(e.newUser.phones,function(t,a){return s("div",{staticClass:"field-body input-list input-block"},[s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:2|min:2",expression:"'required|max:2|min:2'"},{name:"model",rawName:"v-model",value:t.code,expression:"phone.code"}],staticClass:"input",attrs:{name:"code["+a+"]",type:"text",placeholder:"Codigo"},domProps:{value:t.code},on:{input:function(s){s.target.composing||e.$set(t,"code",s.target.value)}}})])]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:9|min:8",expression:"'required|max:9|min:8'"},{name:"model",rawName:"v-model",value:t.number,expression:"phone.number"}],staticClass:"input",attrs:{name:"phone["+a+"]",type:"text",placeholder:"Telefone"},domProps:{value:t.number},on:{input:function(s){s.target.composing||e.$set(t,"number",s.target.value)}}})])]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("code["+a+"]"),expression:"errors.has(`code[${index}]`)"}]},[e._v("\n        "+e._s(e.errors.first("code["+a+"]"))+"\n      ")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("phone["+a+"]"),expression:"errors.has(`phone[${index}]`)"}]},[e._v("\n        "+e._s(e.errors.first("phone["+a+"]"))+"\n      ")])])}),e._v(" "),s("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.addPhone(t)}}},[e._v("Adicionar outro telefone")])],2),e._v(" "),s("button",{staticClass:"button is-info is-medium",attrs:{disabled:e.errors.any()},on:{click:function(t){t.preventDefault(),e.createUser(t)}}},[e._v("\n    Cadastrar\n  ")])])},y=[],O={render:$,staticRenderFns:y},D=O,F=s("VU/8"),G=o,P=F(q,D,!1,G,"data-v-2d7db448",null),B=P.exports,j={name:"Navbar",data:function(){return{}}},V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar has-shadow",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"container"},[e._m(0,!1,!1),e._v(" "),s("div",{staticClass:"navbar-menu"},[s("div",{staticClass:"navbar-start"},[s("a",{staticClass:"navbar-item has-dropdown is-hoverable is-right"},[s("a",{staticClass:"navbar-link"},[e._v("\n            Contatos\n          ")]),e._v(" "),s("div",{staticClass:"navbar-dropdown"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/add"}},[e._v("\n              Adicionar Contato\n            ")]),e._v(" "),s("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[e._v("\n              Listar Contatos\n            ")]),e._v(" "),s("router-link",{staticClass:"navbar-item",attrs:{to:"/search"}},[e._v("\n              Buscar Contato\n            ")])],1)])])])])])},z=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"navbar-brand"},[s("div",{staticClass:"navbar-item"},[s("img",{attrs:{src:"https://dev.meuprospere.com.br/static/images/prospere.png",alt:"Bulma: a modern CSS framework based on Flexbox",width:"112",height:"28"}})]),e._v(" "),s("button",{staticClass:"button navbar-burger"},[s("span"),e._v(" "),s("span"),e._v(" "),s("span")])])}],H={render:V,staticRenderFns:z},X=H,K=s("VU/8"),Q=c,W=K(j,X,!1,Q,"data-v-d05d138c",null),J=W.exports,M={name:"app",components:{AddUser:B,Navbar:J}},Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Navbar"),e._v(" "),s("div",{staticClass:"container"},[s("router-view")],1)],1)},Z=[],ee={render:Y,staticRenderFns:Z},te=ee,se=s("VU/8"),ae=u,ne=se(M,te,!1,ae,"data-v-8d43e252",null),re=ne.exports,ie=(s("GK12"),s("/ocq")),oe=s("Dd8w"),ce=s.n(oe),ue=s("NYxO"),le={name:"SingleUser",props:["name","background","phones","emails"],components:{Card:k},methods:{loadUser:function(){}}},de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Card",{staticClass:"column is-12 single-user",attrs:{title:e.name},on:{click:e.loadUser}},[s("p",[e._v("\n    "+e._s(e.background)+"\n  ")]),e._v(" "),s("label",{staticClass:"has-text-weight-semibold"},[e._v("Telefones:")]),e._v(" "),e._l(e.phones,function(t,a){return s("a",{key:a,attrs:{href:"#"}},[e._v("\n    "+e._s("("+t.code+") "+t.number)+"\n  ")])}),e._v(" "),s("br"),e._v(" "),e.emails?s("div",[s("label",{staticClass:"has-text-weight-semibold"},[e._v("Emails:")]),e._v(" "),e._l(e.emails,function(t,a){return s("a",{key:a,attrs:{href:"#"}},[e._v("\n      "+e._s(t.address)+"\n    ")])})],2):e._e()],2)},ve=[],me={render:de,staticRenderFns:ve},pe=me,he=s("VU/8"),fe=l,_e=he(le,pe,!1,fe,"data-v-5ccfb77c",null),Ce=_e.exports,ge={name:"ListUsers",components:{Card:k,SingleUser:Ce},data:function(){return{currentUser:!1}},methods:{getCurrentUser:function(e){return this.currentUser=this.users[e],this.currentUser}},computed:ce()({},Object(ue.b)(["loading"]),{users:function(){return this.$store.getters.usersList}}),created:function(){this.$store.dispatch("getContacts")}},be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("Card",{staticClass:"column is-6",attrs:{title:"Listar Usuários"}},[s("div",{staticClass:"columns is-multiline"},[e.loading?s("p",[e._v("\n        Carregando lista de contatos...\n      ")]):s("div",{staticClass:"contacts-list"},e._l(e.users,function(t,a){return s("SingleUser",{key:a,staticClass:"single-user",attrs:{name:t.name,background:t.background,phones:t.phones},nativeOn:{click:function(t){e.getCurrentUser(a)}}})}))])]),e._v(" "),s("Card",{staticClass:"column is-6 is-fixed-top",attrs:{title:"Informações completas do usuário"}},[s("div",{staticClass:"columns"},[e.currentUser?s("SingleUser",{attrs:{name:e.currentUser.name,background:e.currentUser.background,phones:e.currentUser.phones,emails:e.currentUser.emails,id:"selected-user"}}):s("h1",{attrs:{id:"contactNotSelected"}},[e._v("Nenhum usuário selecionado")])],1)])],1)},Ue=[],we={render:be,staticRenderFns:Ue},xe=we,Ne=s("VU/8"),ke=d,Ee=Ne(ge,xe,!1,ke,"data-v-740a733e",null),Ae=Ee.exports,Ie={name:"SearchUser",components:{Card:k,SingleUser:Ce},methods:{getUserById:function(){this.$store.dispatch("searchContact",this.userId)}},computed:ce()({},Object(ue.b)(["searchContact","loading","messageRequest"]),{validId:function(){return this.userId&&/[a-z]/i.test(this.userId)}}),data:function(){return{userId:""}}},Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Card",{attrs:{title:"Buscar Usuários"}},[e.messageRequest?s("article",{staticClass:"message",class:200!==e.messageRequest.code?"is-danger":"is-info"},[s("div",{staticClass:"message-body"},[e._v("\n      "+e._s(e.messageRequest.message)+"\n    ")])]):e._e(),e._v(" "),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field has-addons "},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"},{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],staticClass:"input is-fullwidth",attrs:{name:"search",type:"text",placeholder:"Digite o ID buscado"},domProps:{value:e.userId},on:{input:function(t){t.target.composing||(e.userId=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"control"},[s("button",{staticClass:"button is-info",attrs:{name:"search",disabled:e.validId},on:{click:e.getUserById}},[e._v("\n              Buscar\n          ")])])])]),e._v(" "),s("div",{staticClass:"column is-6"},[e.searchContact?s("SingleUser",{staticClass:"single-user",attrs:{name:e.searchContact.name,background:e.searchContact.background,phones:e.searchContact.phones}}):e.loading?s("p",[e._v("\n        Buscando usuário....\n      ")]):s("p",[e._v("\n        Busque um usuário pelo id :)\n      ")])],1)])])},Te=[],Re={render:Se,staticRenderFns:Te},Le=Re,qe=s("VU/8"),$e=v,ye=qe(Ie,Le,!1,$e,"data-v-61617108",null),Oe=ye.exports;m.a.use(ie.a);var De=new ie.a({routes:[{path:"/",name:"ListUsers",component:Ae},{path:"/add",name:"AddUser",component:B},{path:"/search",name:"SearchUser",component:Oe}]}),Fe={getContacts:function(e){var t=e.commit;t("SET_LOADING",!0),t("CLEAR_CONTACTS_STATE"),i().then(function(e){t("LOAD_CONTACTS",e),t("SET_LOADING",!1)}).catch(function(e){return t("API_FAILURE",e)})},searchContact:function(e,t){var s=e.commit;s("SET_LOADING",!0),r(t).then(function(e){s("GET_SEARCH",e),s("SET_LOADING",!1)}).catch(function(e){return s("API_FAILURE",e)})}},Ge=Fe,Pe={LOAD_CONTACTS:function(e,t){e.usersList=t},SET_LOADING:function(e,t){e.loading=t},CLEAR_CONTACTS_STATE:function(e){e.usersList=[]},GET_SEARCH:function(e,t){e.messageRequest={message:"Usuário resgatado com sucesso",code:200},e.searchContact=t},API_FAILURE:function(e,t){e.messageRequest={message:t.message,code:t.status}}},Be=Pe,je={usersList:function(e){return e.usersList}};m.a.use(ue.a);var Ve={usersList:[],searchContact:"",loading:!1,messageRequest:""},ze=new ue.a.Store({state:Ve,actions:Ge,mutations:Be,getters:je});m.a.use(p.a),m.a.config.productionTip=!1,new m.a({el:"#app",router:De,store:ze,template:"<App/>",components:{App:re}})},RzI8:function(e,t){},TXU2:function(e,t){},dn1N:function(e,t){},yQf8:function(e,t){},zKUX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9cdcb9a72cd773e43162.js.map